# 멀티 런처

## 원리

D2R 클라이언트는 중복 실행을 막기 위해 특정 핸들을 확인합니다.

```
\Sessions\[임의숫자]\BaseNamedObjects\DiabloII Check For Other Instances
```

이 프로그램은 해당 핸들을 닫아 여러 클라이언트를 실행할 수 있게 합니다.

## 실행 방법

### 단일 계정 실행

계정 목록에서 원하는 계정을 **더블 클릭**합니다.

### 여러 계정 실행

1. 계정 목록에서 여러 계정 선택 (Ctrl+클릭 또는 Shift+클릭)
2. **오른쪽 마우스 클릭** → **실행**

또는 하단 패널의 **실행** 버튼 클릭

## 하단 패널 옵션

![하단 패널](../images/bottom-panel.png)

| 옵션 | 설명 |
|------|------|
| 창모드 | 체크 시 창 모드로 실행 |
| 제목설정 | 창 제목을 계정 설명으로 변경 |
| 창 정렬 | 실행 후 저장된 레이아웃으로 정렬 |
| 실행간격 | 연속 실행 시 간격 (초) |
| 서버 | 접속할 서버 선택 |

## 실행 간격 조정

여러 클라이언트를 연속 실행할 때 PC 사양에 따라 실행 간격 조정이 필요합니다.

!!! tip "권장 설정"
    - 기본값: 4초
    - PC 사양이 낮으면 5~6초로 증가
    - 실행 중 꺼지면 간격을 늘려보세요

## 실행 후 스크립트

웹 토큰이나 배틀넷 런처 방식은 실행 후 추가 조작이 필요할 수 있습니다.

### 설정 방법

1. 계정 설정에서 **실행 후 스크립트** 선택
2. 웹 토큰/배틀넷 런처: `after_launch`
3. 명령줄: `after_launch_short`

## 연속 실행 문제 해결

### 로그인이 꼬이는 경우

**원인**: 토큰 방식은 레지스트리에 토큰을 저장하고 클라이언트가 읽는 방식입니다.
로그인이 완료되기 전에 다음 클라이언트가 실행되면 꼬일 수 있습니다.

**해결**:

1. 실행 간격을 늘림
2. 명령줄 방식 사용 (가능한 경우)
3. 실행 후 스크립트 설정

### 클라이언트가 죽는 경우

**원인**:

- PC/그래픽카드 메모리 부족
- 실행 간격이 너무 빠름

**해결**:

1. 실행 간격 증가
2. 클라이언트 수 줄임
3. 창 최소화 피하기 (메모리 누수 이슈)

!!! warning "창 최소화 주의"
    D2R 클라이언트를 최소화하면 메모리가 계속 증가하는 버그가 있습니다.
    사용하지 않더라도 화면 뒤쪽에 띄워 놓으세요.

## 컨텍스트 메뉴

계정 목록에서 오른쪽 클릭하면 다음 메뉴가 표시됩니다:

| 메뉴 | 설명 |
|------|------|
| 실행 | 선택한 계정 실행 |
| 게임 생성 | 게임 생성 스크립트 실행 |
| 게임 참가 | 게임 참가 스크립트 실행 |
| 게임 나가기 | 게임 나가기 스크립트 실행 |
| 레거시 모드 | 레거시 모드 전환 |
| 자동 | 나가기→생성/참가→레거시 자동 실행 |
